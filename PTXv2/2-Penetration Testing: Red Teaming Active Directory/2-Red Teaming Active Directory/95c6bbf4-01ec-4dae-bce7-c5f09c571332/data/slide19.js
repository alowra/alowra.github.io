(function(){var loadHandler=window['sl_{85EF36B7-A31C-4EC4-A9A1-2547B1D49229}'];loadHandler&&loadHandler(18, '<div id="spr0_9d649a"><div id="spr1_9d649a" class="kern slide"><img id="img1_9d649a" src="data/img3.png" width="960px" height="540px" alt="" style="left:0px;top:0px;"/><a id="hl0_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(1, this);return false;" style="left:905.506px;top:222px;"><div id="svg0_9d649a" style="left:0px;top:0px;"><svg width="55" height="40" viewBox="0 0 55 40"><path fill="#bbe0e3" fill-opacity="0" d="M0,0 h54.494 v40 h-54.494 Z"/></svg></div></a><div id="spr3_9d649a" style="left:905.506px;top:222px;"><div style="width:0px;"><a id="hl1_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(1, this);return false;"><span id="txt0_9d649a" style="left:9.6px;top:1.764px;">d</span></a></div></div><a id="hl2_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(704, this);return false;" style="left:905.506px;top:272.055px;"><div id="svg1_9d649a" style="left:0px;top:0px;"><svg width="55" height="30" viewBox="0 0 55 30"><path fill="#bbe0e3" fill-opacity="0" d="M0,0 h54.494 v29.081 h-54.494 Z"/></svg></div></a><div id="spr4_9d649a" style="left:905.506px;top:272.055px;"><div style="width:0px;"><a id="hl3_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(704, this);return false;"><span id="txt1_9d649a" style="left:9.6px;top:2.776px;">d</span></a></div></div><a id="hl4_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(753, this);return false;" style="left:905.506px;top:311.191px;"><div id="svg2_9d649a" style="left:0px;top:0px;"><svg width="55" height="30" viewBox="0 0 55 30"><path fill="#bbe0e3" fill-opacity="0" d="M0,0 h54.494 v29.081 h-54.494 Z"/></svg></div></a><div id="spr5_9d649a" style="left:905.506px;top:311.191px;"><div style="width:0px;"><a id="hl5_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(753, this);return false;"><span id="txt2_9d649a" style="left:9.6px;top:2.776px;">d</span></a></div></div><div id="spr6_9d649a" style="left:464px;top:504.919px;"><div style="width:0px;"><span id="txt3_9d649a" class="nokern" data-width="300.722656" style="left:73.433px;top:4.798px;">PTXv2: Section 2, Module 2 - Caendra Inc. © 2020</span></div></div><a id="hl6_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(754, this);return false;" style="left:905.506px;top:360.382px;"><div id="svg3_9d649a" style="left:0px;top:0px;"><svg width="55" height="30" viewBox="0 0 55 30"><path fill="#bbe0e3" fill-opacity="0" d="M0,0 h54.494 v29.081 h-54.494 Z"/></svg></div></a><div id="spr7_9d649a" style="left:905.506px;top:360.382px;"><div style="width:0px;"><a id="hl7_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(754, this);return false;"><span id="txt4_9d649a" style="left:9.6px;top:2.776px;">d</span></a></div></div><a id="hl8_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(1, this);return false;" style="left:905.506px;top:222px;"><div id="svg4_9d649a" style="left:0px;top:0px;"><svg width="55" height="40" viewBox="0 0 55 40"><path fill="#bbe0e3" fill-opacity="0" d="M0,0 h54.494 v40 h-54.494 Z"/></svg></div></a><div id="spr8_9d649a" style="left:905.506px;top:222px;"><div style="width:0px;"><a id="hl9_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(1, this);return false;"><span id="txt5_9d649a" style="left:9.6px;top:1.764px;">d</span></a></div></div><a id="hl10_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(704, this);return false;" style="left:905.506px;top:272.055px;"><div id="svg5_9d649a" style="left:0px;top:0px;"><svg width="55" height="30" viewBox="0 0 55 30"><path fill="#bbe0e3" fill-opacity="0" d="M0,0 h54.494 v29.081 h-54.494 Z"/></svg></div></a><div id="spr9_9d649a" style="left:905.506px;top:272.055px;"><div style="width:0px;"><a id="hl11_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(704, this);return false;"><span id="txt6_9d649a" style="left:9.6px;top:2.776px;">d</span></a></div></div><a id="hl12_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(753, this);return false;" style="left:905.506px;top:311.191px;"><div id="svg6_9d649a" style="left:0px;top:0px;"><svg width="55" height="30" viewBox="0 0 55 30"><path fill="#bbe0e3" fill-opacity="0" d="M0,0 h54.494 v29.081 h-54.494 Z"/></svg></div></a><div id="spr10_9d649a" style="left:905.506px;top:311.191px;"><div style="width:0px;"><a id="hl13_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(753, this);return false;"><span id="txt7_9d649a" style="left:9.6px;top:2.776px;">d</span></a></div></div><a id="hl14_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(754, this);return false;" style="left:905.506px;top:360.382px;"><div id="svg7_9d649a" style="left:0px;top:0px;"><svg width="55" height="30" viewBox="0 0 55 30"><path fill="#bbe0e3" fill-opacity="0" d="M0,0 h54.494 v29.081 h-54.494 Z"/></svg></div></a><div id="spr11_9d649a" style="left:905.506px;top:360.382px;"><div style="width:0px;"><a id="hl15_9d649a" href="#" onclick="document.getElementById(\'coreSpr_10310703\').getCore().processTriggerEffect(this);document.getElementById(\'coreSpr_10310703\').getCore().gotoSlide(754, this);return false;"><span id="txt8_9d649a" style="left:9.6px;top:2.776px;">d</span></a></div></div></div><div id="spr2_9d649a" class="kern slide"><div id="svg8_9d649a" style="left:-0px;top:116.459px;"><svg width="904" height="381" viewBox="0 0 904 381"><path fill="#ffffff" fill-opacity="0.68" d="M0,0 h903.354 v380.337 h-903.354 Z"/></svg></div><div id="spr12_9d649a" style="left:292.684px;top:118.677px;"><div style="width:0px;"><span id="txt9_9d649a" data-width="238.781906" style="left:9.6px;top:-0.326px;">Kerberos Authentication Steps</span></div></div><div id="spr13_9d649a" style="left:34.91px;top:6px;"><div style="width:0px;"><span id="txt10_9d649a" data-width="603.958984" style="left:9.6px;top:4.238px;">2.2 Active Directory fundamentals:</span></div><div style="width:0px;"><span id="txt11_9d649a" data-width="255.959000" style="left:9.6px;top:50.638px;">Authentication</span></div></div><div id="spr14_9d649a" style="left:196.5px;top:204.75px;"><img id="img0_9d649a" src="data/img4.png" width="531.75" height="270.75" alt=""/></div><div id="svg9_9d649a" style="left:771.868px;top:461.383px;"><svg width="132" height="30" viewBox="-0.167 -0.167 132 30"><path fill="#ffffff" stroke="#000000" stroke-width="0.8" stroke-linecap="butt" stroke-linejoin="round" stroke-dasharray="1.333,1" d="M0.167,0.167 h131.153 v29.054 h-131.153 Z"/></svg></div><div id="spr15_9d649a" style="left:772.035px;top:461.549px;"><div style="width:0px;"><span id="txt12_9d649a" class="nokern" data-width="96.942581" style="left:9.767px;top:2.946px;">ADSecurity.org</span></div></div><div id="svg10_9d649a" style="left:21.844px;top:157.361px;"><svg width="282" height="55" viewBox="0 0 282 55"><path fill="#ffffff" stroke="#000000" stroke-width="0.8" stroke-linecap="butt" stroke-linejoin="round" d="M0,0 h281.942 v54.86 h-281.942 Z"/></svg></div><div id="spr16_9d649a" style="left:21.844px;top:157.361px;"><div style="width:0px;"><span id="txt13_9d649a" class="nokern" data-width="241.937729" style="left:9.6px;top:3.229px;">1. User authenticates to KDC. The initial request</span></div><div style="width:0px;"><span id="txt14_9d649a" class="nokern" data-width="246.512772" style="left:9.6px;top:18.142px;">encrypts the current UTC timestamp with a long-</span></div><div style="width:0px;"><span id="txt15_9d649a" class="nokern" data-width="48.007706" style="left:9.6px;top:33.056px;">term key.</span></div></div><div id="svg11_9d649a" style="left:21.844px;top:220.503px;"><svg width="217" height="161" viewBox="0 0 217 161"><path fill="#ffffff" stroke="#000000" stroke-width="0.8" stroke-linecap="butt" stroke-linejoin="round" d="M0,0 h216.24 v160.283 h-216.24 Z"/></svg></div><div id="spr17_9d649a" style="left:21.844px;top:220.503px;"><div style="width:0px;"><span id="txt16_9d649a" class="nokern" data-width="181.721786" style="left:9.6px;top:3.229px;">2. If KDC can decrypt the timestamp</span></div><div style="width:0px;"><span id="txt17_9d649a" class="nokern" data-width="180.508255" style="left:9.6px;top:18.142px;">with the user’s key that is stored on</span></div><div style="width:0px;"><span id="txt18_9d649a" class="nokern" data-width="195.950562" style="left:9.6px;top:33.056px;">AD and the time is within the accepted</span></div><div style="width:0px;"><span id="txt19_9d649a" class="nokern" data-width="180.823776" style="left:9.6px;top:47.969px;">skew, authentication succeeds. KDC</span></div><div style="width:0px;"><span id="txt20_9d649a" class="nokern" data-width="196.818253" style="left:9.6px;top:62.882px;">then creates a TGT, encrypted with the</span></div><div style="width:0px;"><span id="txt21_9d649a" class="nokern" data-width="185.872101" style="left:9.6px;top:77.796px;">‘krbtgt’ account’s long-term key. The</span></div><div style="width:0px;"><span id="txt22_9d649a" class="nokern" data-width="166.552521" style="left:9.6px;top:92.709px;">TGT is really just a special service</span></div><div style="width:0px;"><span id="txt23_9d649a" class="nokern" data-width="155.527496" style="left:9.6px;top:107.622px;">ticket. Like all service tickets, it</span></div><div style="width:0px;"><span id="txt24_9d649a" class="nokern" data-width="191.800247" style="left:9.6px;top:122.536px;">includes user identity information in a</span></div><div style="width:0px;"><span id="txt25_9d649a" class="nokern" data-width="180.926926" style="left:9.6px;top:137.449px;">Privilege Attribute Certificate (PAC).</span></div></div><div id="svg12_9d649a" style="left:22.773px;top:387.443px;"><svg width="170" height="101" viewBox="0 0 170 101"><path fill="#ffffff" stroke="#000000" stroke-width="0.8" stroke-linecap="butt" stroke-linejoin="round" d="M0,0 h169.951 v100.048 h-169.951 Z"/></svg></div><div id="spr18_9d649a" style="left:22.773px;top:387.443px;"><div style="width:0px;"><span id="txt26_9d649a" class="nokern" data-width="128.890259" style="left:9.6px;top:3.229px;">3. User requests a service</span></div><div style="width:0px;"><span id="txt27_9d649a" class="nokern" data-width="123.611351" style="left:9.6px;top:18.142px;">ticket from the KDC. The</span></div><div style="width:0px;"><span id="txt28_9d649a" class="nokern" data-width="135.534393" style="left:9.6px;top:33.056px;">request includes the user’s</span></div><div style="width:0px;"><span id="txt29_9d649a" class="nokern" data-width="145.788818" style="left:9.6px;top:47.969px;">TGT (from step 2), encrypted</span></div><div style="width:0px;"><span id="txt30_9d649a" class="nokern" data-width="132.809998" style="left:9.6px;top:62.882px;">with the ‘krbtgt’ account’s</span></div><div style="width:0px;"><span id="txt31_9d649a" class="nokern" data-width="73.595230" style="left:9.6px;top:77.796px;">long-term key.</span></div></div><div id="svg13_9d649a" style="left:563.524px;top:149.042px;"><svg width="338" height="85" viewBox="0 0 338 85"><path fill="#ffffff" stroke="#000000" stroke-width="0.8" stroke-linecap="butt" stroke-linejoin="round" d="M0,0 h337.324 v84.977 h-337.324 Z"/></svg></div><div id="spr19_9d649a" style="left:563.524px;top:149.042px;"><div style="width:0px;"><span id="txt32_9d649a" class="nokern" data-width="285.892212" style="left:9.6px;top:3.229px;">4. KDC decrypts the TGT and creates a service ticket. The</span></div><div style="width:0px;"><span id="txt33_9d649a" class="nokern" data-width="290.455109" style="left:9.6px;top:18.142px;">user’s PAC information is copied from the TGT to the new</span></div><div style="width:0px;"><span id="txt34_9d649a" class="nokern" data-width="307.808777" style="left:9.6px;top:33.056px;">ticket. KDC then sends the service ticket to the user, who will</span></div><div style="width:0px;"><span id="txt35_9d649a" class="nokern" data-width="318.026794" style="left:9.6px;top:47.969px;">pass it on to the target service. The ticket is encrypted with the</span></div><div style="width:0px;"><span id="txt36_9d649a" class="nokern" data-width="196.138672" style="left:9.6px;top:62.882px;">target service account’s long-term key.</span></div></div><div id="svg14_9d649a" style="left:618.637px;top:241.441px;"><svg width="282" height="85" viewBox="0 0 282 85"><path fill="#ffffff" stroke="#000000" stroke-width="0.8" stroke-linecap="butt" stroke-linejoin="round" d="M0,0 h281.942 v84.977 h-281.942 Z"/></svg></div><div id="spr20_9d649a" style="left:618.637px;top:241.441px;"><div style="width:0px;"><span id="txt37_9d649a" class="nokern" data-width="235.797211" style="left:9.6px;top:3.229px;">5. User sends the service ticket and the service</span></div><div style="width:0px;"><span id="txt38_9d649a" class="nokern" data-width="232.132309" style="left:9.6px;top:18.142px;">decrypts the ticket with its long-term key. The</span></div><div style="width:0px;"><span id="txt39_9d649a" class="nokern" data-width="212.970490" style="left:9.6px;top:33.056px;">user’s PAC information are included in the</span></div><div style="width:0px;"><span id="txt40_9d649a" class="nokern" data-width="257.616699" style="left:9.6px;top:47.969px;">encrypted ticket, allowing the service to determine</span></div><div style="width:0px;"><span id="txt41_9d649a" class="nokern" data-width="225.111969" style="left:9.6px;top:62.882px;">the user’s authorization level for the service.</span></div></div><div id="svg15_9d649a" style="left:675.474px;top:333.841px;"><svg width="226" height="40" viewBox="0 0 226 40"><path fill="#ffffff" stroke="#000000" stroke-width="0.8" stroke-linecap="butt" stroke-linejoin="round" d="M0,0 h225.105 v39.802 h-225.105 Z"/></svg></div><div id="spr21_9d649a" style="left:675.474px;top:333.841px;"><div style="width:0px;"><span id="txt42_9d649a" class="nokern" data-width="182.771500" style="left:9.6px;top:3.229px;">6. Service requests KDC to verify the</span></div><div style="width:0px;"><span id="txt43_9d649a" class="nokern" data-width="175.702621" style="left:9.6px;top:18.142px;">‘krbtgt’ signature for the PAC data.</span></div></div><div id="svg16_9d649a" style="left:727.354px;top:381.05px;"><svg width="174" height="70" viewBox="0 0 174 70"><path fill="#ffffff" stroke="#000000" stroke-width="0.8" stroke-linecap="butt" stroke-linejoin="round" d="M0,0 h173.225 v69.919 h-173.225 Z"/></svg></div><div id="spr22_9d649a" style="left:727.354px;top:381.05px;"><div style="width:0px;"><span id="txt44_9d649a" class="nokern" data-width="134.278381" style="left:9.6px;top:3.229px;">7. Service sends encrypted</span></div><div style="width:0px;"><span id="txt45_9d649a" class="nokern" data-width="149.411240" style="left:9.6px;top:18.142px;">timestamp for user validation</span></div><div style="width:0px;"><span id="txt46_9d649a" class="nokern" data-width="85.979424" style="left:9.6px;top:33.056px;">(provides mutual</span></div><div style="width:0px;"><span id="txt47_9d649a" class="nokern" data-width="77.970047" style="left:9.6px;top:47.969px;">authentication)</span></div></div><div id="spr23_9d649a" style="left:832.34px;top:504.755px;"><div style="width:0px;"><span id="txt48_9d649a" class="nokern" data-width="36.692707" style="left:9.6px;top:4.798px;">|  p.19</span></div></div></div></div>');})();